(this.webpackJsonpinotebook=this.webpackJsonpinotebook||[]).push([[0],{42:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"state_val",(function(){return O})),n.d(a,"state_msg",(function(){return f})),n.d(a,"token",(function(){return x})),n.d(a,"_id",(function(){return g})),n.d(a,"name",(function(){return v})),n.d(a,"email",(function(){return y})),n.d(a,"date",(function(){return N}));var c=n(0),s=n(15),r=n.n(s),o=n(4),i=n(8),l=n(2),d=n(5),j=n(29),u=n(20),b=Object(c.createContext)(),m=n(1);var p=function(e){var t=Object(c.useContext)(b).deleteNote,n=e.notes,a=e.update_notes;return e.keys,Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"col-md-3 my-3",children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:n.title}),Object(m.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:n.tag}),Object(m.jsx)("p",{className:"card-text",children:n.descrption}),Object(m.jsx)("i",{className:"far fa-trash-alt mx-3",onClick:function(){t(n._id)}}),Object(m.jsx)("i",{className:"fas fa-edit",onClick:function(){a(n)}})]})})})})};var h=function(){var e=Object(c.useContext)(b),t=e.notes,n=e.edit_notes,a=Object(c.useState)(!1),s=Object(d.a)(a,2),r=s[0],o=s[1],h=Object(c.useState)({title:"",descrption:"",tag:""}),O=Object(d.a)(h,2),f=O[0],x=O[1],g=function(e){o(!1===r),x(e)},v=function(e){x(Object(l.a)(Object(l.a)({},f),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("div",{className:"row my-3",children:[Object(m.jsxs)(u.a,{show:r,onHide:function(){o(!1)},children:[Object(m.jsx)(u.a.Header,{closeButton:!0,children:Object(m.jsx)(u.a.Title,{children:"Edit Note"})}),Object(m.jsxs)(u.a.Body,{children:[Object(m.jsxs)("div",{className:"mb-3 my-3",children:[Object(m.jsx)("label",{htmlFor:"etitle",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"etitle",name:"title",onChange:v,value:f.title})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"edescrption",className:"form-label",children:"Description"}),Object(m.jsx)("textarea",{className:"form-control",id:"descrption",name:"descrption",rows:"3",onChange:v,value:f.descrption})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"tag",className:"form-label",children:"Add Tag"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"etag",name:"tag",onChange:v,value:f.tag})]})]}),Object(m.jsxs)(u.a.Footer,{children:[Object(m.jsx)(j.a,{variant:"secondary",onClick:function(){o(!1)},children:"Close"}),Object(m.jsx)(j.a,{disabled:f.descrption.length<5||f.title.length<3,variant:"primary",onClick:function(e){e.preventDefault(),o(!1),n(f._id,f.title,f.descrption,f.tag)},children:"Edit Note"})]})]}),Object(m.jsx)("div",{className:"container",children:0===t.length&&"No Notes To Display"}),t.map((function(e){return Object(m.jsx)(p,{update_notes:g,notes:e},e._id)}))]})},O=function(e){return function(t){t({type:"state_val",payload:e})}},f=function(e){return function(t){t({type:"state_msg",payload:e})}},x=function(e){return function(t){t({type:"token",payload:e})}},g=function(e){return function(t){t({type:"_id",payload:e})}},v=function(e){return function(t){t({type:"name",payload:e})}},y=function(e){return function(t){t({type:"email",payload:e})}},N=function(e){return function(t){t({type:"date",payload:e})}},_=n(6),k=function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),s=n[0],r=n[1],o=Object(_.b)();return setInterval((function(){o(a.state_msg("")),o(a.state_val(!1)),r(!1)}),3e3),Object(m.jsx)("div",{children:!0===s?Object(m.jsx)("div",{className:"alert alert-primary",role:"alert",children:e.message}):""})},w=function(){var e=Object(o.f)(),t=Object(c.useContext)(b),n=t.addNote,a=t.getNotes,s=Object(c.useState)({title:"",descrption:"",tag:""}),r=Object(d.a)(s,2),j=r[0],u=r[1],p=Object(c.useState)(0),O=Object(d.a)(p,2),f=O[0],x=O[1],g=function(e){u(Object(l.a)(Object(l.a)({},j),{},Object(i.a)({},e.target.name,e.target.value)))};Object(c.useEffect)((function(){localStorage.getItem("token")?a():e.push("/login")}),[f]);var v=Object(_.c)((function(e){return e.alert_msg})),y=Object(_.c)((function(e){return e.alert_val}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"mb-3 my-3",children:[y?Object(m.jsx)(k,{message:v}):"",Object(m.jsx)("h2",{children:"Add a Note"}),Object(m.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",placeholder:"This is My Note",onChange:g})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"descrption",className:"form-label",children:"Description"}),Object(m.jsx)("textarea",{className:"form-control",id:"descrption",name:"descrption",rows:"3",onChange:g})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"tag",className:"form-label",children:"Add Tag"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"tag",name:"tag",placeholder:"Personal",onChange:g})]}),Object(m.jsx)("div",{className:"col-12 my-3",children:Object(m.jsx)("button",{disabled:j.descrption.length<5||j.title.length<3,type:"submit",className:"btn btn-primary",onClick:function(e){e.preventDefault(),n(j.title,j.descrption,j.tag),x(f+1)},children:"Add Note"})}),Object(m.jsxs)("div",{className:"my-3",children:[Object(m.jsx)("h2",{children:"Your Note Are:"}),Object(m.jsx)(h,{})]})]})},C=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("h1",{children:"This is About page"})})},S=n(18),T=(n(42),function(){var e=Object(_.c)((function(e){return e.token}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"navbar",children:[Object(m.jsx)("div",{className:"logo",children:"I-NoteBook"}),Object(m.jsx)("ul",{className:"nav-links",children:Object(m.jsxs)("div",{className:"menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/",children:"Home"})}),Object(m.jsxs)("li",{children:["  ",Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/about",children:"About"})]}),e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/login",children:"Login"})}),Object(m.jsxs)("li",{children:["  ",Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/signup",children:"Signup"})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/logout",children:"Logout"})}),Object(m.jsx)("li",{children:Object(m.jsx)(S.b,{exact:!0,activeClassName:"active_op",to:"/profile",children:"Profile"})})]})]})})]})})}),F=n(11),P=n.n(F),E=n(19),I=function(e){var t=Object(_.b)(),n="http://localhost:5000",s=Object(c.useState)([]),r=Object(d.a)(s,2),o=r[0],i=r[1],l=function(){var e=Object(E.a)(P.a.mark((function e(c,s,r){var l,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("add"),e.next=3,fetch("".concat(n,"/api/notes/createnote"),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:c,descrption:s,tag:r})});case 3:return l=e.sent,e.next=6,l.json();case 6:d=e.sent,i(o.concat(d)),t(a.state_msg("Note Added Successfully")),t(a.state_val(!0)),console.log(d);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(E.a)(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch all notes"),e.next=3,fetch("".concat(n,"/api/notes/fetchnotes"),{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,i(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(E.a)(P.a.mark((function e(c){var s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/api/notes/deletenote/").concat(c),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 2:e.sent,t(a.state_msg("Note with id".concat(c," has been deleted"))),t(a.state_val(!0)),s=o.filter((function(e){return e._id!==c})),i(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(E.a)(P.a.mark((function e(c,s,r,l){var d,j;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/api/notes/updatenote/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:s,descrption:r,tag:l})});case 2:e.sent,d=JSON.parse(JSON.stringify(o)),t(a.state_msg("Note Has been updated successfully")),t(a.state_val(!0)),j=0;case 7:if(!(j<d.length)){e.next=17;break}if(d[j]._id!==c){e.next=14;break}return d[j].title=s,d[j].descrption=r,d[j].tag=l,e.abrupt("break",17);case 14:j++,e.next=7;break;case 17:i(d);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}();return Object(m.jsx)(b.Provider,{value:{notes:o,addNote:l,deleteNote:u,getNotes:j,edit_notes:p},children:e.children})},A=(n(44),Object(c.createContext)()),D=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(A).login_func,r=function(e){a(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e.target.name,e.target.value)))},o=Object(_.c)((function(e){return e.alert_msg})),j=Object(_.c)((function(e){return e.alert_val}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container my-3",children:[j?Object(m.jsx)(k,{message:o}):"",Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(n.email,n.password)},children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",name:"email",id:"eamil","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:r}),Object(m.jsx)("small",{id:"email",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",name:"password",placeholder:"Password",onChange:r})]}),Object(m.jsx)("div",{className:"my-2",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]})]})})},J=function(){var e=Object(c.useState)({name:"",email:"",password:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(A),r=s.signup_func,o=(s.salert,function(e){a(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e.target.name,e.target.value)))}),j=Object(_.c)((function(e){return e.alert_msg})),u=Object(_.c)((function(e){return e.alert_val}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container my-3",children:[u?Object(m.jsx)(k,{message:j}):"",Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(n.name,n.email,n.password)},className:"px-4 py-3",children:[Object(m.jsxs)("div",{class:"form-group",children:[Object(m.jsx)("label",{for:"name",children:"Enter Your Name"}),Object(m.jsx)("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Your Name",name:"name",onChange:o})]}),Object(m.jsxs)("div",{class:"form-group",children:[Object(m.jsx)("label",{for:"email",children:"Email address"}),Object(m.jsx)("input",{type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email",onChange:o}),Object(m.jsx)("small",{id:"email",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{class:"form-group",children:[Object(m.jsx)("label",{for:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",name:"password",onChange:o})]}),Object(m.jsx)("div",{class:"form-group my-3",children:Object(m.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})})]})]})})};var H=function(){var e=Object(_.b)(),t=Object(o.f)();return localStorage.removeItem("token"),e(a.token(!0)),e(a.state_msg("User Logout Successfully")),e(a.state_val(!0)),t.push("/login"),Object(m.jsx)(m.Fragment,{})},L=function(e){var t=Object(_.b)(),n=Object(o.f)(),c="http://localhost:5000",s=function(){var e=Object(E.a)(P.a.mark((function e(s,r){var o,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:r})});case 2:return o=e.sent,e.next=5,o.json();case 5:!0===(i=e.sent).success?(t(a.state_msg("User Login Successfully")),t(a.state_val(!0)),t(a.token(!1)),localStorage.setItem("token",i.authtoken),n.push("/")):(t(a.state_msg("Please Try Again!!!With Correct Email And Password")),t(a.state_val(!0)));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Object(E.a)(P.a.mark((function e(s,r,o){var i,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"/api/auth/createuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:r,password:o})});case 2:return i=e.sent,e.next=5,i.json();case 5:!1===(l=e.sent).success?(t(a.state_msg(l.errors)),t(a.state_val(!0)),n.push("/signup")):(t(a.state_msg("User Has been created successfully")),t(a.state_val(!0)),n.push("/login"),console.log(l.success));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(E.a)(P.a.mark((function e(){var n,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("profile"),e.next=3,fetch("".concat(c,"/api/auth/userdetail"),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,t(a.name(s.user.name)),t(a._id(s.user._id)),t(a.email(s.user.email)),t(a.date(s.user.date)),console.log(s.user.date);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsx)(A.Provider,{value:{login_func:s,signup_func:r,profile_func:i},children:e.children})})},B=function(){var e=Object(_.c)((function(e){return e.name})),t=Object(_.c)((function(e){return e._id})),n=Object(_.c)((function(e){return e.email})),a=Object(_.c)((function(e){return e.date})),s=Object(c.useContext)(A).profile_func;return Object(c.useEffect)((function(){s()}),[]),Object(m.jsxs)(m.Fragment,{children:["ID:",t,Object(m.jsx)("br",{}),"Name: ",e,Object(m.jsx)("br",{}),"Email: ",n,Object(m.jsx)("br",{}),"Date of signup:",a,Object(m.jsx)("br",{})]})},U=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{}),Object(m.jsx)(L,{children:Object(m.jsx)(I,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:w}),Object(m.jsx)(o.a,{exact:!0,path:"/about",component:C}),Object(m.jsx)(o.a,{exact:!0,path:"/login",component:D}),Object(m.jsx)(o.a,{exact:!0,path:"/signup",component:J}),Object(m.jsx)(o.a,{exact:!0,path:"/logout",component:H}),Object(m.jsx)(o.a,{exact:!0,path:"/profile",component:B})]})})})})]})},W=n(23),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"state_msg"===t.type?t.payload:e},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"state_val"===t.type?t.payload:e},M=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"token"===t.type?t.payload:e},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"_id"===t.type?t.payload:e},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"name"===t.type?t.payload:e},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"email"===t.type?t.payload:e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"date"===t.type?t.payload:e},R=Object(W.b)({alert_val:G,alert_msg:Y,token:M,_id:q,name:z,email:K,date:Q}),V=n(31),X=Object(W.c)(R,{},Object(W.a)(V.a));r.a.render(Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(S.a,{children:Object(m.jsx)(_.a,{store:X,children:Object(m.jsx)(U,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d2eeba35.chunk.js.map